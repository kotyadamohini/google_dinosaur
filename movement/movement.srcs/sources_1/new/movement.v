`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 02/13/2020 01:36:39 PM
// Design Name: 
// Module Name: movement
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module movement(output reg[3:0]B, output reg [3:0]R, output VS, output HS, output reg [3:0]G,input clk,input KB_clk,input KB_data); 
 wire [10:0] hcount,vcount; 
 reg [10:0]x,y,x1,y1,x2,y2,cx1,cx2,cy1,cy2;
 reg [39:0]se,str; reg [15:0]bcd;  wire [28:1]seg,seg1;
 reg [3:0]a,b,c1,d;
 wire clk_25; 
 wire blank;
 reg slow_clk,slow_clk1,slow_clk2; 
 reg [25:0]slow_count;
 reg square_bALLon,rom_bit,square_bALLon1,rom_bit1,square_bALLon2,rom_bit2,square_bALLon3,rom_bit3,square_bALLon4,rom_bit4,square_bALLon5,rom_bit5,square_bALLon6,rom_bit6,square_bALLon7,rom_bit7; 
 reg [3:0]rom_addr;
 reg [5:0]rom_addr3,rom_col3,rom_addr6,rom_col6,rom_addr7,rom_col7;
 reg [3:0]rom_col; 
 reg [4:0]rom_addr1, rom_col1,rom_addr2, rom_col2,rom_addr4,rom_addr5,rom_col4,rom_col5; 
 reg [10:0]bALL_left,bALL_right,bALL_up,bALL_down,bALL_left1,bALL_right1,bALL_up1,bALL_down1,bALL_left2,bALL_right2,bALL_up2,bALL_down2; 
 reg [15:0] rom_data;
 reg [31:0]rom_data1,rom_data2,rom_data4,rom_data5;
 reg [63:0] rom_data3;
 reg [0:63]rom_data7,rom_data6;
 reg [1:0]c;
 wire [7:0]code; 
 reg collision_detected;
  clk_wiz_0 instance_name
   (
   // Clock in ports
    .clk_in1(clk),      // input clk_in1
    // Clock out ports
    .clk_out1(clk_25)); 
    initial 
    begin
    bALL_left=30;  
    bALL_right = 94;  
    bALL_up =356;  
    bALL_down = 420;
    bALL_left1=370;  
	bALL_right1 = 434;  
	bALL_up1 =44 ; bALL_down1=108;
	bALL_left2=300;  
        bALL_right2=364;  
        bALL_up2=200;  
        bALL_down2 =264;
    end
    always @(posedge clk)
    begin   
    if(code==8'h29)
    begin 
    bALL_up =356 -100;  
    bALL_down = 420-100; 
    end 
    else
    begin
    bALL_left=30;  
    bALL_right = 94;  
    bALL_up =356;  
    bALL_down = 420;
    end
    end
initial
begin
y = 11'd404;y1= 11'd388;y2=11'd388;x=640;cy1=11'd150;cy2=11'd160;cx1=11'd400;a=0;b=0;c1=0;d=0;
end 
always @ (posedge clk)  
begin 
slow_count = slow_count + 1'b1;   
slow_clk= slow_count[20]; 
slow_clk1=slow_count[25];
slow_clk2=slow_count[18];
end 
always@(posedge slow_clk1)
if(collision_detected)
begin
if(a>bcd[15:12])
begin
a<=a;
b<=b;
c1<=c1;
d<=d;
end
else if(a<bcd[15:12])
begin
a<=bcd[15:12];
b<=bcd[11:8];
c1<=bcd[7:4];
d<=bcd[3:0];
end
else
begin
    if(b>bcd[11:8])
    begin
    a<=a;
    b<=b;
    c1<=c1;
    d<=d;
    end
    else if(b<bcd[11:8])
    begin
    a<=bcd[15:12];
    b<=bcd[11:8];
    c1<=bcd[7:4];
    d<=bcd[3:0];
    end
    else
    begin
        if(c1>bcd[7:4])
        begin
        a<=a;
        b<=b;
        c1<=c1;
        d<=d;
        end
        else if(c1<bcd[7:4])
        begin
        a<=bcd[15:12];
        b<=bcd[11:8];
        c1<=bcd[7:4];
        d<=bcd[3:0];
        end
        else
        begin
            if(d>bcd[3:0])
            begin
            a<=a;
            b<=b;
            c1<=c1;
            d<=d;
            end
            else if(d<bcd[3:0])
            begin
            a<=bcd[15:12];
            b<=bcd[11:8];
            c1<=bcd[7:4];
            d<=bcd[3:0];
            end
            else
            begin
            a<=a;
                        b<=b;
                        c1<=c1;
                        d<=d;
            end
        end
    end
end
end
else
begin
a<=a;
b<=b;
c1<=c1;
d<=d;
end
always@( posedge slow_clk)
if(collision_detected || code==8'h29)
begin
c=0;
end
else
c=c+1;
always@(* )
begin 
case(rom_addr)  
4'd0:rom_data=16'b0110011110000000;
4'd1:rom_data=16'b0110011110011000;
4'd2:rom_data=16'b0110011110011000;
4'd3:rom_data=16'b0110011110011000;
4'd4:rom_data=16'b0110011111011000;
4'd5:rom_data=16'b0111111110011000;
4'd6:rom_data=16'b0011111111111000;
4'd7:rom_data=16'b0000011111100000;
4'd8:rom_data=16'b0000011110000000;
4'd9:rom_data=16'b0000011110000000;
4'd10:rom_data=16'b000011110000000;
4'd11:rom_data=16'b000011110000000;
4'd12:rom_data=16'b000011110000000;
4'd13:rom_data=16'b000011110000000;
4'd14:rom_data=16'b000011110000000;
4'd15:rom_data=16'b000011110000000;
endcase 
  end 

always@(* )
    begin 
    case(rom_addr1)  
    5'd0:rom_data1=32'b00000011110000001111100111100111;
     5'd1:rom_data1=32'b00000011110000001111100111100111;
     5'd2:rom_data1=32'b00000011110011101111100111100111;
     5'd3:rom_data1=32'b00000011110011101111100111100111;
     5'd4:rom_data1=32'b00000011110011101111100111100111;
     5'd5:rom_data1=32'b00000011110011101111100111100111;
     5'd6:rom_data1=32'b11110011110011101111100111100111;
     5'd7:rom_data1=32'b11110011110011101111100111100111;
     5'd8:rom_data1=32'b11110011110011101111100111110111;
     5'd9:rom_data1=32'b11110011110011101111100111100111;
     5'd10:rom_data1=32'b11110011111111101111100111100110;
     5'd11:rom_data1=32'b11110011110000001111100111101100;
     5'd12:rom_data1=32'b11110011110000001111100111111000;
     5'd13:rom_data1=32'b11110011110000001111111111100000;
     5'd14:rom_data1=32'b11111111110000001111111111100000;
     5'd15:rom_data1=32'b11111111110000000001111111100000;
     5'd16:rom_data1=32'b11111111110000000000011111100000;
     5'd17:rom_data1=32'b00000111110000011100000111100000;
     5'd18:rom_data1=32'b00000111110000011100000111100000;
     5'd19:rom_data1=32'b00000111110000011100000111100000;
     5'd20:rom_data1=32'b00000011110000011100000111100000;
     5'd21:rom_data1=32'b00000011110000011100000111100000;
     5'd22:rom_data1=32'b00000011110111011100000111100000;
     5'd23:rom_data1=32'b00000011110111011100000111100000;
     5'd24:rom_data1=32'b00000011110111011100000111100000;
     5'd25:rom_data1=32'b00000011110111011100000111100000;
     5'd26:rom_data1=32'b00000011110111011100110111100000;
     5'd27:rom_data1=32'b00000011110111111100110111100000;
     5'd28:rom_data1=32'b00000011110111111100110111100000;
     5'd29:rom_data1=32'b00000011110011111100110111100000;
     5'd30:rom_data1=32'b00000011110000011100110111100000;
     5'd31:rom_data1=32'b00000011110000011111110111100000;
    endcase 
      end 
       always@(* )
                      begin 
                      case(rom_addr2)  
                      5'd0:rom_data2 =32'b00000000000001111000000000000000;
                      5'd1:rom_data2  =32'b00000000000011111100000000000000;
                      5'd2:rom_data2 =32'b00000000000011111100000000000000;
                      5'd3:rom_data2  =32'b00000011000011111100001100000000;
                      5'd4:rom_data2  =32'b00000111100011111100011110000000;
                      5'd5:rom_data2  =32'b00000111100011111100011110000000;
                      5'd6:rom_data2  =32'b00000111100011111100011110000000;
                      5'd7:rom_data2  =32'b00000111100011111100011110000000;
                      5'd8:rom_data2  =32'b00000111100011111100011110000000;
                      5'd9:rom_data2  =32'b00000111100011111100011110000000;
                      5'd10:rom_data2  =32'b00001111111111111111111100000000;
                      5'd11:rom_data2  =32'b00000111111111111111111100000000;
                      5'd12:rom_data2  =32'b00000011111111111111111100000000;
                      5'd13:rom_data2  =32'b00000001111111111111111000000000;
                      5'd14:rom_data2  =32'b00000000111111111111110000000000;
                      5'd15:rom_data2  =32'b00000000011111111111100000000000;
                      5'd16:rom_data2  =32'b00000000000111111000000000000000;
                      5'd17:rom_data2 =32'b00000000000111111000000000000000;
                      5'd18:rom_data2  =32'b00000000000111111000000000000000;
                      5'd19:rom_data2  =32'b00000000000111111000000000000000;
                      5'd20:rom_data2  =32'b00000000000111111000000000000000;
                      5'd21:rom_data2  =32'b00000000000111111000000000000000;
                      5'd22:rom_data2  =32'b00000000000111111000000000000000;
                      5'd23:rom_data2  =32'b00000000000111111000000000000000;
                      5'd24:rom_data2  =32'b00000000000111111000000000000000;
                      5'd25:rom_data2  =32'b00000000000111111000000000000000;
                      5'd26:rom_data2  =32'b00000000000111111000000000000000;
                      5'd27:rom_data2  =32'b00000000000111111000000000000000;                                                        
                      5'd28:rom_data2  =32'b00000000000111111000000000000000;
                      5'd29:rom_data2  =32'b00000000000111111000000000000000;
                      5'd29:rom_data2  =32'b00000000011111111000000000000000;
                      5'd30:rom_data2  =32'b00000000011111111111000000000000;
                      5'd31:rom_data2  =32'b00000000000000111100000000000000;  
                       endcase 
                        end
always@* 
                        begin 
                             
                            
                            case(rom_addr3)
                            6'd0:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd1:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd2:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd3:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd4:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd5:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd6:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd7:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd8:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd9:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd10:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd11:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd12:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd13:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd14:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd15:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd16:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd17:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd18:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd19:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd20:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd21:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd22:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd23:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd24:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd25:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd26:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;
                            6'd27:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000; 
                            6'd28:rom_data3 =64'b0000000000000000000000000000000000000000000000000000000000000000;    
                            6'd29:rom_data3 =64'b0000000000000000000000000000000001111111111000000000000000000000;     
                            6'd30:rom_data3 =64'b0000000000000000000000000000000001111111111000000000000000000000;    
                            6'd31:rom_data3 =64'b0000000000000000000000000000000111111111001110000000000000000000;     
                            6'd32:rom_data3 =64'b0000000000000000000000000000000111111111001110000000000000000000;    
                            6'd33:rom_data3 =64'b0000000000000000000000000000000111111111111110000000000000000000;    
                            6'd34:rom_data3 =64'b0000000000000000000000000000000111111111111110000000000000000000;     
                            6'd35:rom_data3 =64'b0000000000000000000000000000000111111111111110000000000000000000;    
                            6'd36:rom_data3 =64'b0000000000000000000000000000000111111111111110000000000000000000;    
                            6'd37:rom_data3 =64'b0000000000000000000000000000000111111111111110000000000000000000;   
                            6'd38:rom_data3 =64'b0000000000000000000000000000000000000011111110000000000000000000;  
                            6'd39:rom_data3 =64'b0000000000000000000000000000000000000011111110000000000000000000;    
                            6'd40:rom_data3 =64'b0000000000000000000000000000000000111111111110000000000000000000;    
                            6'd41:rom_data3 =64'b0000000000000000000000000000000000000001111111100000000000000110;    
                            6'd42:rom_data3 =64'b0000000000000000000000000000000000000001111111100000000000000110;     
                            6'd43:rom_data3 =64'b0000000000000000000000000000000000000001111111111000000000000110;
                            6'd44:rom_data3 =64'b0000000000000000000000000000000000000001111111111000000000000110;     
                            6'd45:rom_data3 =64'b0000000000000000000000000000000000011111111111111110000000000110;    
                            6'd46:rom_data3 =64'b0000000000000000000000000000000000011001111111111111100000000110;     
                            6'd47:rom_data3 =64'b0000000000000000000000000000000000011001111111111111111000000110;    
                            6'd48:rom_data3 =64'b0000000000000000000000000000000000000001111111111111111000000110;    
                            6'd49:rom_data3 =64'b0000000000000000000000000000000000000001111111111111111111111110;     
                            6'd50:rom_data3 =64'b0000000000000000000000000000000000000001111111111111111111111110;    
                            6'd51:rom_data3 =64'b0000000000000000000000000000000000000001111111111111111111111110;    
                            6'd52:rom_data3=64'b0000000000000000000000000000000000000001111111111111111111111110;   
                            6'd53:rom_data3 =64'b0000000000000000000000000000000000000000011111111111111111111110;  
                            6'd54:rom_data3 =64'b0000000000000000000000000000000000000000011111111111111111111110;    
                            6'd55:rom_data3 =64'b0000000000000000000000000000000000000000000111111111111111000000;  
                            6'd56:rom_data3 =64'b0000000000000000000000000000000000000000000111110011111111000000;    
                            6'd57:rom_data3 =64'b0000000000000000000000000000000000000000000111110011111111000000;     
                            6'd58:rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                            6'd59:begin
                                  if(c==0)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else if(c==1)
                                  rom_data3 =64'b0000000000000000000000000000000000000000111110000000000011000000;
                                  else if(c==2)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000011111000000;
                                  end
                            6'd60:begin
                                  if(c==0)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else if(c==1)
                                  rom_data3 =64'b0000000000000000000000000000000000000000111110000000000011000000;
                                  else if(c==2)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000011111000000;
                                  end
                            6'd61:begin
                                  if(c==0)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else if(c==1)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000000000000000011000000;
                                  else if(c==2)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000011000000;
                                  else
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000000000000;
                                  end
                            6'd62:begin
                                  if(c==0)
                                  rom_data3 =64'b0000000000000000000000000000000000000000111110000000011111000000;
                                  else if(c==1)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000000000000000011000000;
                                  else if(c==2)
                                  rom_data3 =64'b0000000000000000000000000000000000000000111110000000011111000000;
                                  else
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000000000000;
                                  end
                            6'd63:begin
                                  if(c==0)
                                  rom_data3 =64'b0000000000000000000000000000000000000000111110000000011111000000;
                                  else if(c==1)
                                  rom_data3 =64'b0000000000000000000000000000000000000000000000000000000011000000;
                                  else if(c==2)
                                  rom_data3=64'b0000000000000000000000000000000000000000111110000000011111000000;
                                  else
                                  rom_data3 =64'b0000000000000000000000000000000000000000000110000000000000000000;
                                  end              
                            endcase 
                             
                            end 
 always @(*)
 begin
 case(rom_addr4)
  5'd0:rom_data4=32'b000000000000000000000000000000;
 5'd1:rom_data4=32'b000000000000000000000000000000;
 5'd2:rom_data4=32'b000000000000000000000000000000;
 5'd3:rom_data4=32'b000000000000011100000000000000;
 5'd4:rom_data4=32'b000000000101110111000000000000;
 5'd5:rom_data4=32'b0000000111000000011110000000000;
 5'd6:rom_data4=32'b000001111000000000000111100000;
 5'd7:rom_data4=32'b000111000000000000000000111000;
 5'd8:rom_data4=32'b001110000000001000000000111000;
 5'd9:rom_data4=32'b011111111111111111111111111110;
5'd10:rom_data4=32'b011111111111111111111111111110;
5'd11:rom_data4=32'b000000000000000000000000000000;
5'd12:rom_data4=32'b000000000001111100000000000000;
5'd13:rom_data4=32'b000000001110000011100000000000;
5'd14:rom_data4=32'b000000111100000000011100000000;
5'd15:rom_data4=32'b000011100000000000000011100000;
5'd16:rom_data4=32'b000111000000000000000001111000;
5'd17:rom_data4=32'b000111000000000000000000111100;
5'd18:rom_data4=32'b000111111111111111111111111110;
5'd19:rom_data4=32'b011111111111111111111111111110;
5'd20:rom_data4=32'b000000000000000000000000000000;
5'd21:rom_data4=32'b000000000000000000000000000000;
5'd22:rom_data4=32'b000000000000000000000000000000;
5'd23:rom_data4=32'b000000000000000000000000000000;
5'd24:rom_data4=32'b000000000000000000000000000000;
5'd25:rom_data4=32'b000000000000000000000000000000;
5'd26:rom_data4=32'b000000000000000000000000000000;
5'd27:rom_data4=32'b000000000000000000000000000000;
5'd28:rom_data4=32'b000000000000000000000000000000;
5'd29:rom_data4=32'b000000000000000000000000000000;
5'd30:rom_data4=32'b000000000000000000000000000000;
5'd31:rom_data4=32'b000000000000000000000000000000;
 endcase                           
  end
  always @(*)
   begin
   case(rom_addr5)
    5'd0:rom_data5=32'b000000000000000000000000000000;
   5'd1:rom_data5=32'b000000000000000000000000000000;
   5'd2:rom_data5=32'b000000000000000000000000000000;
   5'd3:rom_data5=32'b000000000000000000000000000000;
   5'd4:rom_data5=32'b000000000000000000000000000000;
   5'd5:rom_data5=32'b000000000000000000000000000000;
   5'd6:rom_data5=32'b000000000000000000000000000000;
   5'd7:rom_data5=32'b000000000000000000000000000000;
   5'd8:rom_data5=32'b000000000001111000000000000000;
   5'd9:rom_data5=32'b000000000011111100000000000000;
  5'd10:rom_data5=32'b000000011110001111000000000000;
  5'd11:rom_data5=32'b000000011110000111100000000000;
  5'd12:rom_data5=32'b000000111100000011110000000000;
  5'd13:rom_data5=32'b000011110011111110001100000000;
  5'd14:rom_data5=32'b001111100000000001110001100000;
  5'd15:rom_data5=32'b000100000000000000111110000000;
  5'd16:rom_data5=32'b011110000000000000000111100110;
  5'd17:rom_data5=32'b011111111111111111111111111110;
  5'd18:rom_data5=32'b000000000000000000000000000000;
  5'd19:rom_data5=32'b000000000000000000000000000000;
  5'd20:rom_data5=32'b000000000000000000000000000000;
  5'd21:rom_data5=32'b000000000000000000000000000000;
  5'd22:rom_data5=32'b000000000000000000000000000000;
  5'd23:rom_data5=32'b000000000000000000000000000000;
  5'd24:rom_data5=32'b000000000000000000000000000000;
  5'd25:rom_data5=32'b000000000000000000000000000000;
  5'd26:rom_data5=32'b000000000000000000000000000000;
  5'd27:rom_data5=32'b000000000000000000000000000000;
  5'd28:rom_data5=32'b000000000000000000000000000000;
  5'd29:rom_data5=32'b000000000000000000000000000000;
  5'd30:rom_data5=32'b000000000000000000000000000000;
  5'd31:rom_data5=32'b000000000000000000000000000000;

   endcase                           
    end 
always@(* )
           begin 
           case(rom_addr6)  
           6'd0:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;                              
           6'd1:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;                
           6'd2:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;           
           6'd3:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;                
           6'd4:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;               
           6'd5:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;                               
           6'd6:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;               
           6'd7:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;    
           6'd8:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;               
           6'd9:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;           
          6'd10:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;                
          6'd11:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;                
          6'd12:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;                
          6'd13:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;                
          6'd14:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;                
          6'd15:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd16:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd17:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd18:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd19:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd20:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd21:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd22:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd23:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd24:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd25:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd26:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd27:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd28:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;    
          6'd29:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;   
          6'd30:rom_data6=64'b1111111111111111111111111111110000000000000001111100000000000000;    
          6'd31:rom_data6=64'b1111111111111111111111111111110000000000000001111100000000000000;
          6'd32:rom_data6=64'b1111111111111111111111111111110000000000000001111100000000000000;
          6'd33:rom_data6=64'b1111111111111111111111111111110000000000000001111100000000000000;
          6'd34:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd35:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd36:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd37:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd38:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd39:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd40:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd41:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd42:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd43:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd44:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd45:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd46:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd47:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd48:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd49:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd50:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd51:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd52:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd53:rom_data6=64'b1111100000000000000000000111110000000000000001111100000000000000;
          6'd54:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;
          6'd55:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;
          6'd56:rom_data6=64'b1111100000000000000000000111110000001111111111111111111111100000;
          6'd57:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd58:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd59:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd60:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd61:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd62:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
          6'd63:rom_data6=64'b0000000000000000000000000000000000000000000000000000000000000000;
           endcase
             end
always@(* )
                 begin 
                 case(rom_addr7)  
                 6'd0:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd1:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd2:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd3:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd4:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd5:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd6:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd7:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd8:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd9:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd10:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd11:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd12:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd13:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd14:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd15:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd16:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd17:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd18:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd19:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd20:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd21:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd22:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd23:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd24:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd25:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd26:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd27:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd28:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd29:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd30:rom_data7=64'b001111111100001110000110001101111100011100011001101111101111111;
                 6'd31:rom_data7=64'b111111111100011011000110001101111100111110011001101111001111111;
                 6'd32:rom_data7=64'b111000000000110001100111011101000001100011011001101000001100011;
                 6'd33:rom_data7=64'b111001111101111111110110101101111001100011011001101111001100011;
                 6'd34:rom_data7=64'b111000011101111111110110101101000001100011011001101000001111100;
                 6'd35:rom_data7=64'b011100011101100000110110001101111100111110001111101111101101100;
                 6'd36:rom_data7=64'b001111111001100000110110001101111100011100000111001111101100110;
                 6'd37:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd38:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd39:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd40:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd41:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd42:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd43:rom_data7=64'b000000000000000001100000000000000000000000000000000000000000000;
                 6'd44:rom_data7=64'b000000000000000001110000000000000000000000000000000000000000000;
                 6'd45:rom_data7=64'b000000111111111111111000000001111111111000000000000000000000000;
                 6'd46:rom_data7=64'b000000111111111111111000000001111111111000000000000000000000000;
                 6'd47:rom_data7=64'b000000111000000001110000000000000000111000000000000000000000000;
                 6'd48:rom_data7=64'b000000111000000001100000000000000000111000000000000000000000000;
                 6'd49:rom_data7=64'b000000111000000000000000000000000000111000000000000000000000000;
                 6'd50:rom_data7=64'b000000111000000000000000000000000000111000000000000000000000000;
                 6'd51:rom_data7=64'b000000111000000000000000000000000000111000000000000000000000000;
                 6'd52:rom_data7=64'b000000111000000000000000000000000000111000000000000000000000000;
                 6'd53:rom_data7=64'b000000111000000000000000000000000000111000000000000000000000000;
                 6'd54:rom_data7=64'b000000111111111111111111111111111111111000000000000000000000000;
                 6'd55:rom_data7=64'b000000111111111111111111111111111111111000000000000000000000000;
                 6'd56:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd57:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd58:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd59:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd60:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd61:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd62:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 6'd63:rom_data7=64'b000000000000000000000000000000000000000000000000000000000000000;
                 endcase 
                   end 

             always@(posedge slow_clk1)
             begin
             if((bcd[3:0]==9 && bcd[7:4]==9 &&bcd[11:8]==9 && bcd[15:12]==9) ||collision_detected)
             bcd<=0;
             else if(bcd[3:0]==9 && bcd[7:4]==9 && bcd[11:8]==9)
             begin
             bcd[15:12]<=bcd[15:12]+1;
             bcd[11:8]<=0;
             bcd[7:4]<=0;
             bcd[3:0]<=0;
             end
             else if(bcd[3:0]==9 &&bcd[7:4]==9)
             begin
             bcd[11:8]<=bcd[11:8]+1;
             bcd[7:4]<=0;
             bcd[3:0]<=0;
             end
             else if(bcd[3:0]==9)
             begin
             bcd[7:4]<=bcd[7:4]+1;
             bcd[3:0]<=0;
             end
             else 
             bcd[3:0]<=bcd[3:0]+1;
             end
             always@(bcd)
             begin
             case(bcd[15:12]) 
             4'b0000: se[30]=(seg[1] || seg[3] || seg[7] || seg[6] || seg[5] || seg[2]); 
             4'b0001: se[31]=(seg[3] || seg[7]); 
             4'b0010:se[32]=(seg[1] || seg[3] || seg[4] || seg[6] || seg[5]); 
             4'b0011:se[33]=(seg[1] || seg[3] || seg[7] || seg[6] || seg[4]); 
             4'b0100:se[34]=(seg[2] || seg[3] || seg[4] || seg[7]); 
             4'b0101:se[35]=(seg[1] || seg[2] || seg[4] || seg[7] || seg[6]); 
             4'b0110:se[36]=(seg[1] || seg[2] || seg[5] || seg[4] || seg[7] || seg[6]); 
             4'b0111:se[37]=(seg[1] || seg[3] || seg[7]); 
             4'b1000:se[38]=(seg [1] || seg[5] || seg[6] || seg[2] || seg[3] || seg[4] || seg[7]);
             4'b1001:se[39]=(seg[1] || seg[2] || seg[3] || seg[4] || seg[7] || seg[6]);  
             endcase
             case(bcd[11:8]) 
             4'b0000:se[20]=(seg[8] || seg[9] || seg[10] || seg[12] || seg[13] || seg[14]);                                             
             4'b0001:se[21]=(seg[10] || seg[14]);                                                       
             4'b0010:se[22]=(seg[8] || seg[10] || seg[11] || seg[12] || seg[13]);      
             4'b0011:se[23]=(seg[8] || seg[10] || seg[11] || seg[14] || seg[13]);      
             4'b0100:se[24]=(seg[9] || seg[11] || seg[10] || seg[14]);      
             4'b0101:se[25]=(seg[8] || seg[9] || seg[11] || seg[14] || seg[13]);     
             4'b0110:se[26]=(seg[8] || seg[9] || seg[11] || seg[14] || seg[13] || seg[12]);     
             4'b0111:se[27]=(seg[8] || seg[10] || seg[14]);      
             4'b1000:se[28]=(seg [8] || seg[9] || seg[10] || seg[11] || seg[12] || seg[13] || seg[14]);      
             4'b1001:se[29]=(seg[8] || seg[9] || seg[10] || seg[11] || seg[13] || seg[14]); 
             endcase
             case(bcd[7:4]) 
             4'b0000: se[10]=(seg[15] || seg[17] || seg[21] || seg[20] || seg[19] || seg[16]); 
             4'b0001: se[11]=(seg[17] || seg[21]); 
             4'b0010:se[12]=(seg[15] || seg[17] || seg[18] || seg[20] || seg[19]); 
             4'b0011:se[13]=(seg[15] || seg[17] || seg[21] || seg[20] || seg[18]); 
             4'b0100:se[14]=(seg[16] || seg[17] || seg[18] || seg[21]); 
             4'b0101:se[15]=(seg[15] || seg[16] || seg[18] || seg[21] || seg[20]); 
             4'b0110:se[16]=(seg[15] || seg[16] || seg[19] || seg[18] || seg[21] || seg[20]); 
             4'b0111:se[17]=(seg[15] || seg[17] || seg[21]); 
             4'b1000:se[18]=(seg [15] || seg[19] || seg[20] || seg[16] || seg[17] || seg[18] || seg[21]);
             4'b1001:se[19]=(seg[15] || seg[16] || seg[17] || seg[18] || seg[21] || seg[20]);  
             endcase
             case(bcd[3:0])         
             4'b0000:se[0]=(seg[22] || seg[23] || seg[24] || seg[26] || seg[27] || seg[28]);                                             
             4'b0001:se[1]=(seg[24] || seg[28]);                                                       
             4'b0010:se[2]=(seg[22] || seg[24] || seg[25] || seg[26] || seg[27]);      
             4'b0011:se[3]=(seg[22] || seg[24] || seg[25] || seg[28] || seg[27]);      
             4'b0100:se[4]=(seg[23] || seg[25] || seg[24] || seg[28]);      
             4'b0101:se[5]=(seg[22] || seg[23] || seg[25] || seg[28] || seg[27]);     
             4'b0110:se[6]=(seg[22] || seg[23] || seg[25] || seg[28] || seg[27] || seg[26]);     
             4'b0111:se[7]=(seg[22] || seg[24] || seg[28]);      
             4'b1000:se[8]=(seg [22] || seg[23] || seg[24] || seg[25] || seg[26] || seg[27] || seg[28]);      
             4'b1001:se[9]=(seg[22] || seg[23] || seg[24] || seg[25] || seg[27] || seg[28]); 
             endcase 
             end
             
             // To display the numerics with segments 
             assign seg[1]=(~blank & (hcount >= 550 & hcount <= 565 & vcount>= 50 & vcount <= 52)); 
             assign seg[2]=(~blank & (hcount >= 550 & hcount <= 552 & vcount>= 53 & vcount <= 73));
              assign seg[3]=(~blank & (hcount >= 562 & hcount <= 565 & vcount>=53 & vcount <= 73)); 
              assign seg[4]=(~blank & (hcount >= 550 & hcount <= 565 & vcount>= 74 & vcount <=76)); 
              assign seg[5]=(~blank & (hcount >= 550 & hcount <=552  & vcount>= 77 & vcount <= 97)); 
              assign seg[6]=(~blank & (hcount >= 550 & hcount <= 565 & vcount>= 98 & vcount <= 100)); 
              assign seg[7]=(~blank & (hcount >= 562 & hcount <= 565 & vcount>= 77 & vcount <= 97)); 
              assign seg[8]=(~blank & (hcount >= 570 & hcount <= 585 & vcount>= 50 & vcount <= 52)); 
              assign seg[9]=(~blank & (hcount >= 570 & hcount <= 572 & vcount >= 53 & vcount <= 73)); 
              assign seg[10]=(~blank & (hcount >=582 & hcount <= 585 & vcount >= 53 & vcount <= 73)); 
              assign seg[11]=(~blank & (hcount >=570 & hcount <= 585& vcount>= 74 & vcount <= 76)); 
              assign seg[12]=(~blank & (hcount >=570 & hcount <= 572& vcount>= 77 & vcount <= 97)); 
              assign seg[13]=(~blank & (hcount >=570 & hcount <= 585& vcount>= 98 & vcount <= 100)); 
              assign seg[14]=(~blank & (hcount >=582 & hcount <= 585 & vcount>= 77 & vcount <= 97));
              assign seg[15]=(~blank & (hcount >= 590 & hcount <= 605 & vcount>= 50 & vcount <= 52)); 
              assign seg[16]=(~blank & (hcount >= 590 & hcount <= 592 & vcount>= 53 & vcount <= 73));
               assign seg[17]=(~blank & (hcount >= 602 & hcount <= 605 & vcount>=53 & vcount <= 73)); 
               assign seg[18]=(~blank & (hcount >= 590 & hcount <= 605 & vcount>= 74 & vcount <=76)); 
               assign seg[19]=(~blank & (hcount >= 590 & hcount <=592  & vcount>= 77 & vcount <= 97)); 
               assign seg[20]=(~blank & (hcount >= 590 & hcount <= 605 & vcount>= 98 & vcount <= 100)); 
               assign seg[21]=(~blank & (hcount >= 602 & hcount <= 605 & vcount>= 77 & vcount <= 97)); 
               assign seg[22]=(~blank & (hcount >= 610 & hcount <= 625 & vcount>= 50 & vcount <= 52)); 
               assign seg[23]=(~blank & (hcount >= 610 & hcount <= 612 & vcount >= 53 & vcount <= 73)); 
               assign seg[24]=(~blank & (hcount >=622 & hcount <= 625 & vcount >= 53 & vcount <= 73)); 
               assign seg[25]=(~blank & (hcount >=610 & hcount <= 625& vcount>= 74 & vcount <= 76)); 
               assign seg[26]=(~blank & (hcount >=610 & hcount <= 612& vcount>= 77 & vcount <= 97)); 
               assign seg[27]=(~blank & (hcount >=610 & hcount <= 625& vcount>= 98 & vcount <= 100)); 
               assign seg[28]=(~blank & (hcount >=622 & hcount <= 625 & vcount>= 77 & vcount <= 97));
always@(*)
                 begin
                 case(a) 
                 4'b0000: str[30]=(seg1[1] || seg1[3] || seg1[7] || seg1[6] || seg1[5] || seg1[2]); 
                 4'b0001: str[31]=(seg1[3] || seg1[7]); 
                 4'b0010:str[32]=(seg1[1] || seg1[3] || seg1[4] || seg1[6] || seg1[5]); 
                 4'b0011:str[33]=(seg1[1] || seg1[3] || seg1[7] || seg1[6] || seg1[4]); 
                 4'b0100:str[34]=(seg1[2] || seg1[3] || seg1[4] || seg1[7]); 
                 4'b0101:str[35]=(seg1[1] || seg1[2] || seg1[4] || seg1[7] || seg1[6]); 
                 4'b0110:str[36]=(seg1[1] || seg1[2] || seg1[5] || seg1[4] || seg1[7] || seg1[6]); 
                 4'b0111:str[37]=(seg1[1] || seg1[3] || seg1[7]); 
                 4'b1000:str[38]=(seg1[1] || seg1[5] || seg1[6] || seg1[2] || seg1[3] || seg1[4] || seg1[7]);
                 4'b1001:str[39]=(seg1[1] || seg1[2] || seg1[3] || seg1[4] || seg1[7] || seg1[6]);  
                 endcase
                 case(b) 
                 4'b0000:str[20]=(seg1[8] || seg1[9] || seg1[10] || seg1[12] || seg1[13] || seg1[14]);                                             
                 4'b0001:str[21]=(seg1[10] || seg1[14]);                                                       
                 4'b0010:str[22]=(seg1[8] || seg1[10] || seg1[11] || seg1[12] || seg1[13]);      
                 4'b0011:str[23]=(seg1[8] || seg1[10] || seg1[11] || seg1[14] || seg1[13]);      
                 4'b0100:str[24]=(seg1[9] || seg1[11] || seg1[10] || seg1[14]);      
                 4'b0101:str[25]=(seg1[8] || seg1[9] || seg[111] || seg1[14] || seg1[13]);     
                 4'b0110:str[26]=(seg1[8] || seg1[9] || seg1[11] || seg1[14] || seg1[13] || seg1[12]);     
                 4'b0111:str[27]=(seg1[8] || seg1[10] || seg1[14]);      
                 4'b1000:str[28]=(seg1[8] || seg1[9] || seg1[10] || seg1[11] || seg1[12] || seg1[13] || seg1[14]);      
                 4'b1001:str[29]=(seg1[8] || seg1[9] || seg1[10] || seg1[11] || seg1[13] || seg1[14]); 
                 endcase
                 case(c1) 
                 4'b0000: str[10]=(seg1[15] || seg1[17] || seg1[21] || seg1[20] || seg1[19] || seg1[16]); 
                 4'b0001: str[11]=(seg1[17] || seg1[21]); 
                 4'b0010:str[12]=(seg1[15] || seg1[17] || seg1[18] || seg1[20] || seg1[19]); 
                 4'b0011:str[13]=(seg1[15] || seg1[17] || seg1[21] || seg1[20] || seg1[18]); 
                 4'b0100:str[14]=(seg1[16] || seg1[17] || seg1[18] || seg1[21]); 
                 4'b0101:str[15]=(seg1[15] || seg1[16] || seg1[18] || seg1[21] || seg1[20]); 
                 4'b0110:str[16]=(seg1[15] || seg1[16] || seg1[19] || seg1[18] || seg1[21] || seg1[20]); 
                 4'b0111:str[17]=(seg1[15] || seg1[17] || seg1[21]); 
                 4'b1000:str[18]=(seg1[15] || seg1[19] || seg1[20] || seg1[16] || seg1[17] || seg1[18] || seg1[21]);
                 4'b1001:str[19]=(seg1[15] || seg1[16] || seg1[17] || seg1[18] || seg1[21] || seg1[20]);  
                 endcase
                 case(d)         
                 4'b0000:str[0]=(seg1[22] || seg1[23] || seg1[24] || seg1[26] || seg1[27] || seg1[28]);                                             
                 4'b0001:str[1]=(seg1[24] || seg1[28]);                                                       
                 4'b0010:str[2]=(seg1[22] || seg1[24] || seg1[25] || seg1[26] || seg1[27]);      
                 4'b0011:str[3]=(seg1[22] || seg1[24] || seg1[25] || seg1[28] || seg1[27]);      
                 4'b0100:str[4]=(seg1[23] || seg1[25] || seg1[24] || seg1[28]);      
                 4'b0101:str[5]=(seg1[22] || seg1[23] || seg1[25] || seg1[28] || seg1[27]);     
                 4'b0110:str[6]=(seg1[22] || seg1[23] || seg1[25] || seg1[28] || seg1[27] || seg1[26]);     
                 4'b0111:str[7]=(seg1[22] || seg1[24] || seg1[28]);      
                 4'b1000:str[8]=(seg1[22] || seg1[23] || seg1[24] || seg1[25] || seg1[26] || seg1[27] || seg1[28]);      
                 4'b1001:str[9]=(seg1[22] || seg1[23] || seg1[24] || seg1[25] || seg1[27] || seg1[28]); 
                 endcase 
                 end
               
                 // to another display
                 assign seg1[1]=(~blank & (hcount >= 450 & hcount <= 465 & vcount>= 50 & vcount <= 52)); 
                 assign seg1[2]=(~blank & (hcount >= 450 & hcount <= 452 & vcount>= 53 & vcount <= 73));
                  assign seg1[3]=(~blank & (hcount >= 462 & hcount <= 465 & vcount>=53 & vcount <= 73)); 
                  assign seg1[4]=(~blank & (hcount >= 450 & hcount <= 465 & vcount>= 74 & vcount <=76)); 
                  assign seg1[5]=(~blank & (hcount >= 450 & hcount <=452  & vcount>= 77 & vcount <= 97)); 
                  assign seg1[6]=(~blank & (hcount >= 450 & hcount <= 465 & vcount>= 98 & vcount <= 100)); 
                  assign seg1[7]=(~blank & (hcount >= 462 & hcount <= 465 & vcount>= 77 & vcount <= 97)); 
                  assign seg1[8]=(~blank & (hcount >= 470 & hcount <= 485 & vcount>= 50 & vcount <= 52)); 
                  assign seg1[9]=(~blank & (hcount >= 470 & hcount <= 472 & vcount >= 53 & vcount <= 73)); 
                  assign seg1[10]=(~blank & (hcount >=482 & hcount <= 485 & vcount >= 53 & vcount <= 73)); 
                  assign seg1[11]=(~blank & (hcount >=470 & hcount <= 485& vcount>= 74 & vcount <= 76)); 
                  assign seg1[12]=(~blank & (hcount >=470 & hcount <= 472& vcount>= 77 & vcount <= 97)); 
                  assign seg1[13]=(~blank & (hcount >=470 & hcount <= 485& vcount>= 98 & vcount <= 100)); 
                  assign seg1[14]=(~blank & (hcount >=482 & hcount <= 485 & vcount>= 77 & vcount <= 97));
                  assign seg1[15]=(~blank & (hcount >= 490 & hcount <= 505 & vcount>= 50 & vcount <= 52)); 
                  assign seg1[16]=(~blank & (hcount >= 490 & hcount <= 492 & vcount>= 53 & vcount <= 73));
                   assign seg1[17]=(~blank & (hcount >= 502 & hcount <= 505 & vcount>=53 & vcount <= 73)); 
                   assign seg1[18]=(~blank & (hcount >= 490 & hcount <= 505 & vcount>= 74 & vcount <=76)); 
                   assign seg1[19]=(~blank & (hcount >= 490 & hcount <=492  & vcount>= 77 & vcount <= 97)); 
                   assign seg1[20]=(~blank & (hcount >= 490 & hcount <= 505 & vcount>= 98 & vcount <= 100)); 
                   assign seg1[21]=(~blank & (hcount >= 502 & hcount <= 505 & vcount>= 77 & vcount <= 97)); 
                   assign seg1[22]=(~blank & (hcount >= 510 & hcount <= 525 & vcount>= 50 & vcount <= 52)); 
                   assign seg1[23]=(~blank & (hcount >= 510 & hcount <= 512 & vcount >= 53 & vcount <= 73)); 
                   assign seg1[24]=(~blank & (hcount >=522 & hcount <= 525 & vcount >= 53 & vcount <= 73)); 
                   assign seg1[25]=(~blank & (hcount >=510 & hcount <= 525& vcount>= 74 & vcount <= 76)); 
                   assign seg1[26]=(~blank & (hcount >=510 & hcount <= 512& vcount>= 77 & vcount <= 97)); 
                   assign seg1[27]=(~blank & (hcount >=510 & hcount <= 525& vcount>= 98 & vcount <= 100)); 
                   assign seg1[28]=(~blank & (hcount >=522 & hcount <= 525 & vcount>= 77 & vcount <= 97));  
always@(posedge clk_25)      
                          begin      
                          square_bALLon=(hcount >= x) && (hcount <= x+16) && (vcount >= y)&& (vcount <= y+16);        
                          rom_addr = vcount[3:0]- y[3:0];       
                           rom_col = hcount[3:0] - x[3:0];       
                           rom_bit =rom_data[rom_col];
                           square_bALLon1=(hcount >= x1) && (hcount <= x1+32) && (vcount >= y1)&& (vcount <= y1+32);        
                           rom_addr1 = vcount[4:0]- y1[4:0];       
                           rom_col1 = hcount[4:0] - x1[4:0];       
                           rom_bit1 =rom_data1[rom_col1];
                           square_bALLon2=(hcount >=x2) && (hcount <= x2+32) && (vcount >= y2)&& (vcount <= y2+32);        
                           rom_addr2 = vcount[4:0]- y2[4:0];       
                           rom_col2 = hcount[4:0] - x2[4:0];       
                           rom_bit2 =rom_data2[rom_col2]; 
                           square_bALLon3=(hcount >= bALL_left) && (hcount <= bALL_right) && (vcount >= bALL_up)&& (vcount <= bALL_down);       
                           rom_addr3 = vcount[5:0]- bALL_up[5:0];        
                           rom_col3= hcount[5:0] - bALL_left[5:0];        
                           rom_bit3 =rom_data3[rom_col3];
                           square_bALLon4=(hcount >= cx1) && (hcount <= cx1+32) && (vcount >= cy1)&& (vcount <= cy1+32);       
                           rom_addr4 = vcount[4:0]- cy1[4:0];        
                           rom_col4= hcount[4:0] - cx1[4:0];        
                           rom_bit4 =rom_data4[rom_col4];
                            square_bALLon5=(hcount >= cx2) && (hcount <=cx2+32) && (vcount >= cy2)&& (vcount <= cy2+32);       
                             rom_addr5 = vcount[4:0]- cy2[4:0];        
                               rom_col5= hcount[4:0] - cx2[4:0];        
                               rom_bit5 =rom_data5[rom_col5];
                           square_bALLon6=(hcount >= bALL_left1) && (hcount <= bALL_right1) && (vcount >= bALL_up1)&& (vcount <= bALL_down1);        
                                     rom_addr6 = vcount[5:0]- bALL_up1[5:0];       
                                      rom_col6 = hcount[5:0] - bALL_left1[5:0];       
                                      rom_bit6 =rom_data6[rom_col6];
                           square_bALLon7=(hcount >= bALL_left2) && (hcount <= bALL_right2) && (vcount >= bALL_up2)&& (vcount <= bALL_down2);        
                                            rom_addr7 = vcount[5:0]- bALL_up2[5:0];       
                                             rom_col7 = hcount[5:0] - bALL_left2[5:0];       
                                             rom_bit7 =rom_data7[rom_col7];               
                            if((square_bALLon && rom_bit)||(square_bALLon1 && rom_bit1)||(square_bALLon2 && rom_bit2)|| (square_bALLon3 && rom_bit3)||(square_bALLon4 && rom_bit4)||(square_bALLon5 && rom_bit5) || (square_bALLon6 && rom_bit6)||((hcount >= 0) && (hcount <= 640) && (vcount >= 420)&& (vcount <= 421)) ||se[0] || se[1] || se[2] || se[3] || se[4] || se[5] || se[6] || se[7] || se[8] || se[9] || se[10] || se[11] || se[12] || se[13] || se[14] ||se[15] || se[16] || se[17] || se[18] || se[19] || se[20] || se[21] || se[22] || se[23] || se[24] || se[25] || se[26] || se[27] || se[28] || se[29] || se[30] || se[31] || se[32] || se[33] || se[34] ||se[35] || se[36] || se[37] || se[38] || se[39] || str[0] || str[1] || str[2] || str[3]  || str[4] || str[5] || str[6] ||   str[7] || str[8] ||   str[9] ||   str[10] ||   str[11] ||   str[12] ||   str[13] ||   str[14] ||   str[15] ||   str[16] ||   str[17] ||   str[18] ||   str[19]   ||  str[20] ||  str[21] ||   str[22] ||   str[23] ||   str[24] ||   str[25] ||   str[26] ||   str[27] ||   str[28] ||   str[29] ||  str[30] ||   str[31] ||   str[32] ||   str[33] ||   str[34] ||   str[35] ||   str[36] ||   str[37] ||   str[38] ||   str[39] ||(square_bALLon7&& rom_bit7&&collision_detected))
                                       begin             
                                        R <= 4'b1111;              
                                        G <= 4'b1111;              
                                        B <= 4'b1111;            
                                        end 
                                  
                            else
                              begin
                               R <= 4'b0000;              
                               G <= 4'b0000;              
                                B <= 4'b0000; 
                              end
                            end
 always@(posedge slow_clk)
 if(collision_detected)
   begin
   cx1=cx1;
   cx2=cx2; 
   cy1=cy1;
     cy2=cy2;
     if(code==8'h29)
     begin
     cx1=400;cx2=0;
     end
   end
   else 
    begin
   cx1=cx1-11'd1;
   cx2=cx2-11'd1; 
   cy1=cy1;
   cy2=cy2; 
   if(cx1==200)
    cx2=400;
    else if(cx2==200)
    cx1=400; 
    end
 always@(posedge slow_clk2)
 begin
if(collision_detected)
  begin
  x = x;
  x1=x1; 
  x2=x2;     
  y=y;    
  y1=y1;
  y2=y2;
  if(code==8'h29)
  begin
  collision_detected=0;
  x=640;
  x1=0;x2=0;
  end
 end
 else 
 begin
 x = x- 11'd1;
 x1=x1- 11'd1; 
 x2=x2-11'd1;    
 y=y;    
 y1=y1;
 y2=y2;
 if(x==320)
     x1=640;
 else if(x1==320)
     x2=640;
 else if(x2==320)
     x=640;
 else if(bALL_down==420)
  begin
         if(x==(bALL_right-36)||((x<=bALL_left &&(x+16)>=bALL_left)) ||x1==(bALL_right-31)||((x1<=bALL_left &&(x1+32)>=bALL_left)) ||x2==(bALL_right-34)||((x2<=bALL_left &&(x2+32)>=bALL_left)))
            collision_detected=1;
         else
         
             collision_detected=0;
             
             
   end
   end
end
 kbInput u2(clk,KB_clk,KB_data,code);
 vga_controller u1(clk_25,HS,VS,hcount,vcount,blank);       
endmodule
